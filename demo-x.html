<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="robots" content="all">
    <link rel="stylesheet" href='css/3th-auth.css'>
    <link rel="stylesheet" href='css/free-flex.css'>
    <title> Vue demo X </title>
    <style>

        .fade-enter-active, .fade-leave-active {
            transition: all .4s ease;
        }
        .fade-enter, .fade-leave-to {
            opacity: 0;
        }

        .slideTop-enter-active, .slideTop-leave-active {
            transition: all .4s ease;
        }
        .slideTop-enter, .slideTop-leave-to /* .fade-leave-active in below version 2.1.8 */ {
            opacity: 0;
            transform: translateY(-32px);
        }

        .scale-enter-active {
            transition: all .2s ease;
        }
        .scale-enter, .scale-leave-to /* .fade-leave-active in below version 2.1.8 */ {
            opacity: 0;
            transform: scale(.92);
        }


    </style>
  </head>
  <body>

  <keep-alive>
    <div id="app1" v-if="show">

        <!-- 顶部小贴士 -->
        <div class="top-tips">我们不会保存您的帐号密码，仅采集与您信用相关的信息。您的信息受严密保护，不对外公开</div>
        <!-- 表单输入框 -->
        <div class="input-wrapper">
            <div class="flex wrapper-item">
                <label class="flex2 item-name" for="account">帐号/手机号</label>
                <div class="flex4 item-input">
                    <input id="account" type="tel" maxlength="11" placeholder="帐号/手机号" v-model="account" autofocus>
                </div>
            </div>
            <div class="flex wrapper-item">
                <label class="flex1 item-name" for="password">密码</label>
                <div class="flex4 item-input">
                    <input id="password" type="password" placeholder="输入授权密码" v-model="password">
                </div>
            </div>
        </div>
        <!-- 协议 -->
        <div class="flex vertical-center license">
            <div class="checked"></div>
            <div class="text">我已阅读并同意</div>
            <div><a href="javascript:void(0);">《授权协议》</a></div>
        </div>
        <!-- 底部按钮 -->
        <div class="bottom-button">
            <button id="app1-next-btn" type="button" class="next-button" :class="{ active : ( account && password ) }"
                   @click="nextButtonClick" :disabled="!( account && password )"> 开始授权 </button>
        </div>


        <transition name="scale">
            <app1-modal ref="app1ModalHook"></app1-modal>
        </transition>

        <transition name="slideTop">
            <tips ref="tipsHook"></tips>
        </transition>

    </div>
      </keep-alive>
    <script type="text/javascript" src="js/vue.min.js"></script>
    <script type="text/javascript" src="js/component.js"></script>

    <script type="text/template" id="modal">
      <div>123</div>
    </script>



  	<script>

        var app1 = new Vue({
            el: '#app1',
            data: {
                show : true,
                tipsShow : false,

                account : '1',
                password : '1'
            },
            watch : {
            },
            components: {
                app1Modal:  modal
            },
            methods: {
                nextButtonClick : function () {
/*                    var app1ModalHook = this.$refs.app1ModalHook ;
                    app1ModalHook.modalOpen();*/

                    EventHub.$emit("modal");


/*                    var app1Modal = this.$children[0];
                    app1Modal.modalShow = true ;

                    var app1Tips = this.$children[1];
                    app1Tips.tipsOpen("???",2500);*/



                }
            },
            mounted : function () {
                var child = this.$children[0];
                console.log("child %o" , child);

                var childRefs = this.$refs;
                console.log("childRefs %o" , childRefs)
            }
        });

	</script>
  </body>
</html>